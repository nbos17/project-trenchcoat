<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Test</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
</head>

<body>
	<div class='container'>
	<h1 style=' margin-bottom: 30px'>Face Recognition API</h1>
	<div class='row'>
		<form style=" margin-right: 10px">
			Input link here:
			<input type='text' id="link">
		</form>
		<button id='Submit'>Submit</button>
	</div>

	<div class = 'row' id=response></div>
	<div class = 'row' id='image' style='margin-top: 30px'>Image Submitted: </div>
 </div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
var cors_api_host = 'cors-anywhere.herokuapp.com';


$('#Submit').on('click', function(event) {

	event.preventDefault(); 
	


	var source = $('#link').val();
	console.log(source);

	var newImage = $('<img>');
	newImage.attr('src', source);
	$('#image').append(newImage);

	//header keys
	var headers = {
		"app_id"          : "59fe3f8b",
		"app_key"         : "472b1119c610482500bfb00b6e897a1c"
	};
	
	//api call
	var url = "http://" + cors_api_host + '/https://api.kairos.com/v2/media?source=' + source ;
	$.ajax(url, {
		headers  : headers,
	    type: "POST",
	    dataType: "JSON"
	}).done(function(response){
		
		console.log(response);
		$('#response').text(JSON.stringify(response));
		
	});


	});

</script>
</body>
